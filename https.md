客户端和服务端建立安全连接的握手过程：

* 客户端给出协议的版本号、一个客户端生成的随机数和客户端支持的加密算法；
* 服务端在客户端给出的加密算法列表中选出一种，并给出数字证书和一个服务端生成的额随机数；
* 客户端确认数字证书的有效性，然后生成一个新的随机数，并使用数字证书中的公钥加密这个随机数；
* 服务端使用私钥解密，获取客户端发来的随机数
* 客户端和服务端根据约定的加密方法，使用之前的三个随机数，生成对话密钥，这个密钥会用来加密接下来的整个通信过程

